#!/bin/bash
# ██████╗  ██████╗ ████████╗███████╗███████╗████████╗██╗   ██╗██████╗
# ██╔══██╗██╔═══██╗╚══██╔══╝██╔════╝██╔════╝╚══██╔══╝██║   ██║██╔══██╗
# ██║  ██║██║   ██║   ██║   ███████╗█████╗     ██║   ██║   ██║██████╔╝
# ██║  ██║██║   ██║   ██║   ╚════██║██╔══╝     ██║   ██║   ██║██╔═══╝
# ██████╔╝╚██████╔╝   ██║   ███████║███████╗   ██║   ╚██████╔╝██║
# ╚═════╝  ╚═════╝    ╚═╝   ╚══════╝╚══════╝   ╚═╝    ╚═════╝ ╚═╝

set -e

cat << EOF
┌─┐┬─┐┌─┐┬ ┬
├─┤├┬┘│  ├─┤
┴ ┴┴└─└─┘┴ ┴
EOF

if ! grep -q "Arch Linux" /etc/os-release; then
  exit 0
fi

sudo pacman -Syy

sudo pacman -S --needed \
  git \
  base-devel \
  stow \
  zsh \
  cowsay lolcat \
  direnv \
  alacritty \
  neovim \
  tmux \
  github-cli \
  ttf-jetbrains-mono-nerd \
  figlet \
  tk \
  diff-so-fancy less \
  xclip

mkdir -p ~/Apps && cd ~/Apps

git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si
git clone https://aur.archlinux.org/asdf-vm.git && cd asdf-vm && makepkg -si

yay -S visual-studio-code-bin

# Install 1Password CLI
ARCH="amd64" && \
wget "https://cache.agilebits.com/dist/1P/op2/pkg/v2.30.3/op_linux_${ARCH}_v2.30.3.zip" -O op.zip && \
unzip -d op op.zip && \
sudo mv op/op /usr/local/bin/ && \
rm -r op.zip op && \
sudo groupadd -f onepassword-cli && \
sudo chgrp onepassword-cli /usr/local/bin/op && \
sudo chmod g+s /usr/local/bin/op
